(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/OpenRA-replay-analytics/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01f7":function(t,e,s){},"0384":function(t,e,s){},"06a0":function(t,e,s){},"07a7":function(t,e,s){},"0ce6":function(t,e,s){},3142:function(t,e,s){"use strict";var a=s("9b67"),r=s.n(a);r.a},"3bea":function(t,e,s){},"3ded":function(t,e,s){"use strict";var a=s("4db8"),r=s.n(a);r.a},"42ba":function(t,e,s){"use strict";var a=s("d24a"),r=s.n(a);r.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},"4db8":function(t,e,s){},"53d7":function(t,e,s){"use strict";var a=s("01f7"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=s("5f5b"),n=s("2ead"),i=s.n(n),o=s("2f62"),l=(s("4de4"),s("ac1f"),s("5319"),{appName:"OpenRA Replay Analytics",supportedMods:["cnc","ra","d2k","ts"],currentTab:null,currentMod:null,iconUrl:"assets/mods/ra/icon.png",isInputDisabled:!1,isLoading:!1,isAnalyticsReady:!1,timelineScalingFactor:.005,buildOrderViewMode:"simple",buildOrderFilter:"all",chatFilter:["all"]}),c={timelineSize:function(t,e,s){return s.replayData.game.duration.msec*t.timelineScalingFactor}},u={},d={setAnalyticsReadyState:function(t,e){t.isAnalyticsReady=e},setInputDisabledState:function(t,e){t.isInputDisabled=e},setLoadingState:function(t,e){t.isLoading=e,t.isInputDisabled=e},setCurrentTab:function(t,e){t.currentTab=e},setCurrentMod:function(t,e){t.currentMod=e,t.iconUrl=t.iconUrl.replace(/(mods\/).+(\/)/,"$1"+e+"$2")},setBuildOrderViewMode:function(t,e){t.buildOrderViewMode=e.mode},setBuildOrderFilter:function(t,e){t.buildOrderFilter=e.filter},setChatFilter:function(t,e){t.chatFilter=e.filter}},p={namespaced:!0,state:l,getters:c,actions:u,mutations:d};a["default"].use(o["a"]);var f=!1,m=new o["a"].Store({modules:{settings:p},strict:f}),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column min-vh-100",attrs:{id:"app"}},[s("Navbar"),s("div",{staticClass:"container-fluid my-5 flex-grow-1"},[t.isAnalyticsReady?s("Header"):s("HeaderDefault"),t.isAnalyticsReady?s("Analytics"):s("Input")],1),s("Footer")],1)},h=[],_=(s("caad"),s("b0c0"),s("d3b7"),s("2532"),s("4160"),s("a15b"),s("d81d"),s("159b"),s("2ef0")),v=s.n(_),y={},g={gameTimeISO:function(t){var e={};return e.start=t.game.start_time,e.end=t.game.end_time,e},teams:function(t){var e={},s=t.clients;function a(t){var e;return e=!t.team&&t.is_player?"ffa":t.team||t.is_player?t.team:"spectators",e}return v.a.forEach(s,(function(t){var s=a(t);Object.prototype.hasOwnProperty.call(e,s)||(e=Object.defineProperty(e,s,{value:[],enumerable:!0}))})),v.a.forEach(s,(function(t){var s=a(t);e[s].push(t)})),e},versus:function(t,e){var s=e.teams,a="";return v.a.forEach(s,(function(t,e){if("spectators"!==e){a=a?"".concat(a," VS "):"";var s,r=v.a.map(t,"name"),n=", ";"ffa"===e?n=" VS ":r.length>2&&(s=r.pop()),a+=r.join(n),s&&(a=a+" & "+s)}})),a},players:function(t,e){return v.a.omit(e.teams,"spectators")},spectators:function(t){return v.a.filter(t.clients,{is_player:!1})},chat:function(t){return t.chat},chatChannels:function(t){var e=t.chat,s=[];return v.a.forEach(e,(function(t){v.a.forOwn(t,(function(t,e){"channel"===e&&(null!==t||s.includes("spectators")||(t="spectators"),s.includes(t)||s.push(t))}))})),v.a.compact(s)}},j={},O={},w={namespaced:!0,state:y,getters:g,actions:j,mutations:O},C={},S={modName:function(t,e,s){var a=s.replayData.mod,r="";return r=Object.prototype.hasOwnProperty.call(t,"name")?t.name:a,r},isModSupported:function(t,e,s){return function(){var t=s.replayData.mod,e=s.settings.supportedMods;return e.includes(t)}},modFeatures:function(t){var e=[];return Object.prototype.hasOwnProperty.call(t,"features")&&(e=t.features),e},factionInfo:function(t){return function(e){return e=e.toLowerCase(),!!Object.prototype.hasOwnProperty.call(t,"factions")&&(Object.prototype.hasOwnProperty.call(t.factions,e)?t.factions[e]:{id:e,name:e})}},actorInfo:function(t){return function(e){return!!Object.prototype.hasOwnProperty.call(t,"actors")&&(Object.prototype.hasOwnProperty.call(t.actors,e)?t.actors[e]:{id:e,name:e,type:"unknown"})}},supportPowerInfo:function(t){return function(e){return!!Object.prototype.hasOwnProperty.call(t,"support_powers")&&(Object.prototype.hasOwnProperty.call(t.support_powers,e)?t.support_powers[e]:{id:e,name:e,type:"unknown"})}},buildings:function(t){return v.a.filter(t.actors,["type","building"])},defences:function(t){return v.a.filter(t.actors,["type","defence"])},support_powers:function(t){return v.a.filter(t.support_powers,["type","support_power"])}},$={},k={},D={namespaced:!0,state:C,getters:S,actions:$,mutations:k},E=new a["default"],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-navbar",{attrs:{variant:"dark",type:"dark"}},[s("b-navbar-brand",[s("img",{staticClass:"d-inline-block align-top",attrs:{src:t.iconUrl,alt:""}}),t._v(" "+t._s(t.headerText)+" ")]),s("b-navbar-nav",{staticClass:"ml-auto"},[t.isAnalyticsReady?s("b-btn",{attrs:{type:"button",variant:"outline-primary",size:"sm"},on:{click:t.loadNewReplay}},[t._v(" Load New Replay ")]):t._e()],1)],1)},I=[],T={computed:{iconUrl:function(){return this.$store.state.settings.iconUrl},headerText:function(){return this.$store.state.settings.appName},isAnalyticsReady:function(){return this.$store.state.settings.isAnalyticsReady}},methods:{loadNewReplay:function(){location.reload()}}},x=T,M=s("2877"),F=Object(M["a"])(x,R,I,!1,null,null,null),A=F.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-jumbotron",[s("div",{staticClass:"c-header-default"},[s("h1",{staticClass:"display-4"},[t._v("Greetings, Commander!")]),s("p",{staticClass:"lead"},[t._v("This is a visualization tool for data extracted from "),s("a",{attrs:{href:"http://openra.net/"}},[t._v("OpenRA")]),t._v(" replay files using "),s("a",{attrs:{href:"https://github.com/AMHOL/openra-ruby"}},[t._v("openra-ruby")]),t._v(".")])])])},z=[],L=(s("6e63"),{}),V=Object(M["a"])(L,N,z,!1,null,null,null),P=V.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-jumbotron",[s("h1",{staticClass:"display-4"},[t._v(t._s(t.versus))]),s("p",{staticClass:"lead"},[t._v('on "'+t._s(t.map.name)+'" in '),s("ModName")],1)])},J=[],U=(s("99af"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"c-mod-name"},[t._v(" "+t._s(t.modName)+" ")])}),X=[],H={computed:{modName:function(){return this.$store.getters["modData/modName"]}}},G=H,q=Object(M["a"])(G,U,X,!1,null,null,null),Y=q.exports,W={components:{ModName:Y},computed:{modName:function(){return this.$store.getters["modData/modName"]},map:function(){return this.$store.state.replayData.map},versus:function(){return this.$store.getters["replayData/versus"]}},created:function(){document.title="".concat(this.versus,' on "').concat(this.map.name,'" in ').concat(this.modName," | ").concat(this.$store.state.settings.appName)}},K=W,Q=Object(M["a"])(K,B,J,!1,null,null,null),Z=Q.exports,tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"c-footer text-muted text-right"},[s("div",{staticClass:"container-fluid p-3"},[s("p",[t._v("glhf by "),s("a",{attrs:{href:"https://github.com/dragunoff/"}},[t._v("dragunoff")]),t._v(", hosted on "),s("a",{attrs:{href:"https://github.com/dragunoff/OpenRA-replay-analytics"}},[t._v("github")])])])])}],st=(s("53d7"),{}),at=Object(M["a"])(st,tt,et,!1,null,null,null),rt=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-tabs",{attrs:{card:""},on:{input:t.onTabActivated}},[s("b-tab",{attrs:{title:"Upload Replay",disabled:t.isInputDisabled&&0!==t.currentTab}},[s("ReplayFileInput")],1),s("b-tab",{attrs:{title:"Paste JSON",disabled:t.isInputDisabled&&1!==t.currentTab}},[s("ReplayDataInput")],1),s("b-tab",{attrs:{title:"Stored Replays",disabled:t.isInputDisabled&&2!==t.currentTab}},[s("StoredReplays")],1)],1)},it=[],ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-replay-data-input"},[s("b-form",{on:{submit:function(e){return t.onSubmit(e)}}},[s("b-alert",{attrs:{variant:"danger",dismissible:"",show:t.hasError}},[t._v(" "+t._s(t.errorMessage)+" ")]),s("fieldset",{staticClass:"c-replay-file-input__fieldset",attrs:{disabled:t.isInputDisabled}},[s("b-form-group",{attrs:{label:"Replay JSON","label-for":"input-replay-data"}},[s("b-form-textarea",{attrs:{name:"replay-data",rows:8,"max-rows":8,required:"",state:t.isValid},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),s("small",{staticClass:"form-text text-muted"},[t._v(" Paste the JSON output of "),s("strong",[t._v("openra-ruby")]),t._v(" or "),s("a",{attrs:{href:"data/sample/ra-1v1-sample.json"},on:{click:function(e){return t.loadSampleReplay(e)}}},[t._v("load a sample 1v1 game")]),t._v(". ")])],1),s("Submit")],1)],1)],1)},lt=[],ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-btn",{attrs:{type:"submit",variant:"primary",disabled:t.isInputDisabled},on:{click:t.onClick}},[t._v(" "+t._s(t.isLoading?this.loadingLabel:this.defaultLabel)+" "),s("Spinner",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]})],1),t.isTakingTooLong&&t.isLoading?s("small",{staticClass:"d-block mt-2 text-muted"},[t._v(" Please be patient, large replays may take several minutes to process. ")]):t._e()],1)},ut=[],dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"c-spinner"},[s("img",{staticClass:"c-spinner__img",attrs:{src:t.spinnerUrl,alt:""}})])},pt=[],ft={computed:{spinnerUrl:function(){var t=window.location.href.replace(/\/$/,"");return t+"/assets/spinner.webp"}}},mt=ft,bt=(s("ef72"),Object(M["a"])(mt,dt,pt,!1,null,null,null)),ht=bt.exports,_t={components:{Spinner:ht},data:function(){return{defaultLabel:"Submit",loadingLabel:"Submit",isTakingTooLong:!1,delay:5e3}},computed:{isLoading:function(){return this.$store.state.settings.isLoading},isInputDisabled:function(){return this.$store.state.settings.isInputDisabled}},methods:{onClick:function(){this.resetState(),setTimeout(this.updateLabel,0,Date.now())},resetState:function(){this.loadingLabel=this.defaultLabel,this.isTakingTooLong=!1},updateLabel:function(t){if(this.isLoading){var e=Date.now()-t;e>=4*this.delay?this.isTakingTooLong=!0:(e>=3*this.delay?this.loadingLabel="Engineering...":e>=2*this.delay?this.loadingLabel="Examining diagrams...":e>=this.delay?this.loadingLabel="Studying blue prints...":this.loadingLabel="Analyzing schematics...",setTimeout(this.updateLabel,this.delay,t))}else this.resetState()}}},vt=_t,yt=Object(M["a"])(vt,ct,ut,!1,null,null,null),gt=yt.exports,jt={components:{Submit:gt},data:function(){return{isValid:null,hasError:!1,errorMessage:null,input:null,replayJSON:null}},computed:{isInputDisabled:function(){return this.$store.state.settings.isInputDisabled}},methods:{loadSampleReplay:function(t){var e=this;t.preventDefault(),this.isInputDisabled||(this.$store.commit("settings/setInputDisabledState",!0),fetch(t.target.getAttribute("href")).then((function(t){if(t.ok)return t.text();throw new Error("Error fetching sample replay data.")})).then((function(t){e.input=t,e.$store.commit("settings/setInputDisabledState",!1)})).catch((function(t){e.setError(t),e.$store.commit("settings/setInputDisabledState",!1)})))},onSubmit:function(t){var e=this;t.preventDefault(),this.isInputDisabled||(this.clearError(),this.input&&(this.$store.commit("settings/setLoadingState",!0),setTimeout((function(){try{e.replayJSON=JSON.parse(e.input),e.replayDataReady()}catch(t){e.setError(t),e.$store.commit("settings/setLoadingState",!1)}}),0)))},replayDataReady:function(){E.$emit("ReplayDataReady",this.replayJSON)},setError:function(t){this.isValid=!1,this.hasError=!0,this.errorMessage="".concat(t.name,": ").concat(t.message)},clearError:function(){this.isValid=null,this.hasError=!1,this.errorMessage=null}}},Ot=jt,wt=(s("42ba"),Object(M["a"])(Ot,ot,lt,!1,null,null,null)),Ct=wt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-replay-file-input"},[s("b-form",{on:{submit:function(e){return t.onSubmit(e)}}},[s("b-alert",{attrs:{variant:"danger",dismissible:"",show:t.hasError}},[t._v(" "+t._s(t.errorMessage)+" ")]),s("fieldset",{staticClass:"c-replay-file-input__fieldset",attrs:{disabled:t.isInputDisabled}},[s("b-form-group",{attrs:{label:"Replay file","label-for":"input-replay-data"}},[s("b-form-file",{attrs:{accept:".orarep",required:!0},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),s("small",{staticClass:"form-text text-muted"},[t._v(" Choose or drag and drop an "),s("strong",[t._v(".orarep")]),t._v(" file. ")])],1),s("Submit")],1)],1)],1)},$t=[],kt={components:{Submit:gt},data:function(){return{hasError:!1,errorMessage:null,file:null,replayJSON:null}},computed:{isInputDisabled:function(){return this.$store.state.settings.isInputDisabled}},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),!this.isInputDisabled&&(this.clearError(),this.file)){this.$store.commit("settings/setLoadingState",!0);var s=new FormData(t.target);s.append("data",this.file),setTimeout((function(){fetch("https://openra-api.com/replays/data",{method:"POST",body:s}).then((function(t){return t.json()})).then((function(t){e.replayJSON=t,e.replayDataReady()})).catch((function(t){e.setError(t),e.$store.commit("settings/setLoadingState",!1)}))}),0)}},replayDataReady:function(){E.$emit("ReplayDataReady",this.replayJSON)},setError:function(t){this.hasError=!0,this.errorMessage="".concat(t.name,": ").concat(t.message)},clearError:function(){this.hasError=!1,this.errorMessage=null}}},Dt=kt,Et=(s("9274"),Object(M["a"])(Dt,St,$t,!1,null,null,null)),Rt=Et.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-stored-replays",class:{"is-input-disabled":t.isInputDisabled}},[s("b-row",[s("b-col",{staticClass:"my-2",attrs:{sm:"5",md:"6"}},[s("h3",{staticClass:"h3"},[t._v("Stored Replays ("+t._s(t.storedReplays.length)+")")]),t.hasStored?t._e():s("p",{staticClass:"text-muted"},[t._v(" You don't have any replays. Go ahead and sumbit some! ")])]),s("b-col",{staticClass:"my-2",attrs:{sm:"5",md:"6"}},[t.hasStored?s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search",debounce:"500"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("b-input-group-append",[s("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1):t._e()],1)],1),s("b-alert",{attrs:{variant:"danger",dismissible:"",show:t.hasError}},[t._v(" "+t._s(t.errorMessage)+" ")]),t.hasStored?s("b-table",{attrs:{hover:"",items:t.storedReplays,fields:t.fields,filter:t.filter},on:{"row-clicked":function(e){return t.loadReplay(e)}},scopedSlots:t._u([{key:"cell(gameInfo)",fn:function(e){return[s("h4",{staticClass:"h5"},[t._v(t._s(e.item.versus))]),s("span",[t._v('on "'+t._s(e.item.data.map.name)+'" in '+t._s(e.item.modName))])]}},{key:"cell(duration)",fn:function(e){return[s("time",{attrs:{title:e.item.data.game.duration.formatted}},[t._v(" "+t._s(t._f("duration")(e.item.data.game.duration.msec,"humanize"))+" ")])]}},{key:"cell(timestamp)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.timestamp,"from","now"))+" ")]}},{key:"cell(actions)",fn:function(e){return[s("b-button",{attrs:{variant:"outline-primary",size:"sm",id:e.index},on:{click:function(e){return t.onDeleteClicked(e)}}},[t._v(" Delete ")])]}}],null,!1,3692934823)}):t._e()],1)},Tt=[],xt=(s("a434"),{data:function(){return{storedReplays:[],fields:[{key:"gameInfo",label:"Game Info"},{key:"duration",label:"Duration",sortable:!0},{key:"timestamp",label:"Added",sortable:!0},{key:"actions",label:"Actions"}],replayJSON:null,hasError:!1,errorMessage:null,filter:null}},computed:{hasStored:function(){return this.storedReplays.length>0},isInputDisabled:function(){return this.$store.state.settings.isInputDisabled}},methods:{onAnalyticsReady:function(t){t&&(this.storedReplays.unshift({versus:this.$store.getters["replayData/versus"],modName:this.$store.getters["modData/modName"],timestamp:Date.now(),data:t}),this.storeReplays())},onDeleteClicked:function(t){t.preventDefault(),this.storedReplays.splice(t.target.id,1),this.storeReplays()},storeReplays:function(){localStorage.setItem("storedReplays",JSON.stringify(this.storedReplays))},loadReplay:function(t){if(!this.isInputDisabled){this.clearError(),this.$store.commit("settings/setLoadingState",!0);try{if(!t.data)throw new Error("Error loading stored replay data.");this.replayJSON=t.data,this.replayDataReady()}catch(t){this.setError(t),this.$store.commit("settings/setLoadingState",!1)}}},replayDataReady:function(){E.$off("AnalyticsReady",this.onAnalyticsReady),E.$emit("ReplayDataReady",this.replayJSON)},setError:function(t){this.hasError=!0,this.errorMessage="".concat(t.name,": ").concat(t.message)},clearError:function(){this.hasError=!1,this.errorMessage=null}},mounted:function(){if(localStorage.getItem("storedReplays"))try{this.storedReplays=JSON.parse(localStorage.getItem("storedReplays"))}catch(t){localStorage.removeItem("storedReplays")}E.$on("AnalyticsReady",this.onAnalyticsReady)}}),Mt=xt,Ft=(s("8837"),Object(M["a"])(Mt,It,Tt,!1,null,null,null)),At=Ft.exports,Nt={components:{ReplayDataInput:Ct,ReplayFileInput:Rt,StoredReplays:At},data:function(){return{currentTab:null}},computed:{isInputDisabled:function(){return this.$store.state.settings.isInputDisabled}},methods:{onTabActivated:function(t){this.currentTab=t}}},zt=Nt,Lt=Object(M["a"])(zt,nt,it,!1,null,null,null),Vt=Lt.exports,Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-tabs",{attrs:{card:""},on:{input:t.onTabActivated}},[s("b-tab",{attrs:{title:"Game Info",active:""}},[s("TabGameInfo")],1),s("b-tab",{attrs:{title:"Clients"}},[s("TabClients")],1),s("b-tab",{attrs:{title:"Build Orders & Powers"}},[s("TabBuildOrders")],1),s("b-tab",{attrs:{title:"Chat"}},[s("TabChat")],1)],1)},Bt=[],Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-tab-game-info row"},[s("dl",{staticClass:"col-sm"},[s("dt",[t._v("Mod")]),s("dd",[s("ModName"),t._v(" ("+t._s(t.replayData.version)+") ")],1),s("dt",[t._v("Map")]),s("dd",[t._v(" "+t._s(t.replayData.map.name)+" "),s("MapInfo",{attrs:{hash:t.replayData.map.hash}})],1),s("dt",[t._v("Game type")]),s("dd",[t._v(t._s(t.replayData.game.type))]),s("dt",[t._v("Duration")]),s("dd",[t._v(t._s(t._f("duration")(t.replayData.game.duration.msec,"humanize"))+" ("+t._s(t.replayData.game.duration.formatted)+")")]),s("dt",[t._v("Start time")]),s("dd",[s("time",{attrs:{datetime:t.gameTimeISO.start,title:t.gameTimeISO.start}},[t._v(t._s(t._f("moment")(t.gameTimeISO.start,"dddd, MMMM Do YYYY [at] h:mm:ss a")))])]),s("dt",[t._v("Server name")]),s("dd",[t._v(t._s(t.replayData.server_name))])]),s("dl",{staticClass:"col-sm"},[s("dt",[t._v("Options")]),t._l(t.replayData.game.options,(function(e,a){return s("dd",{key:a,staticClass:"c-tab-game-info__option"},[t._v(" "+t._s(t._f("prettifyOptionName")(a))+": "+t._s(t._f("prettifyOptionValue")(e))+" ")])}))],2)])},Ut=[],Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.map?s("div",{staticClass:"c-map-info"},[s("div",{staticClass:"c-map-info__minimap"},[s("a",{attrs:{href:"https://resource.openra.net/maps/"+t.map.id,title:"View on Resource Center",target:"_blank"}},[s("img",{staticClass:"c-map-info__minimap",attrs:{src:"data:image/png;base64,"+t.map.minimap,alt:"minimap"}})])]),s("small",{staticClass:"text-muted"},[t._v("Created by "+t._s(t.map.author))])]):t._e()},Ht=[],Gt={props:{hash:String},data:function(){return{map:null}},created:function(){var t=this;fetch("https://resource.openra.net/map/hash/"+this.hash).then((function(t){if(t.ok)return t.clone().json();throw new Error("Error fetching map data.")})).then((function(e){t.map=e[0]})).catch((function(t){console.log(t)}))}},qt=Gt,Yt=Object(M["a"])(qt,Xt,Ht,!1,null,null,null),Wt=Yt.exports,Kt={components:{ModName:Y,MapInfo:Wt},computed:{replayData:function(){return this.$store.state.replayData},gameTimeISO:function(){return this.$store.getters["replayData/gameTimeISO"]}},filters:{prettifyOptionName:function(t){var e=t.replace(/_/gi," ");return e},prettifyOptionValue:function(t){return!0===t?t="Yes":!1===t&&(t="No"),t}}},Qt=Kt,Zt=(s("606c"),Object(M["a"])(Qt,Jt,Ut,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-tab-clients"},t._l(t.teams,(function(e,a){return s("div",{key:a,staticClass:"c-tab-clients__team"},[s("span",{staticClass:"o-label c-tab-clients__team-name"},[s("TeamName",{attrs:{teamId:a}})],1),s("div",{staticClass:"row"},t._l(e,(function(t,e){return s("div",{key:e,staticClass:"c-tab-clients__client col-sm-2 mb-3"},[s("ClientInfo",{attrs:{client:t}})],1)})),0)])})),0)},se=[],ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"c-team-name"},[t._v(t._s(t.name))])},re=[],ne={props:{teamId:{default:!1},player:{type:Object,required:!1}},computed:{team:function(){return this.teamId?this.teamId:this.player?this.player.team:null},name:function(){var t="";return t="spectators"===this.team||this.player&&!this.player.is_player?"Spectators":null===this.team||"ffa"===this.team?"Free for All":"Team ".concat(this.team),t}}},ie=ne,oe=Object(M["a"])(ie,ae,re,!1,null,null,null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-client-info"},[s("h4",[t._v(t._s(t.client.name))]),s("Faction",{attrs:{faction:t.client.faction}}),s("div",{staticClass:"c-client-info__icons"},[t.client.is_player?s("span",{staticClass:"c-client-info__color is-help",style:{backgroundColor:"#"+t.client.color},attrs:{title:"Player color: #"+t.client.color}}):t._e(),t.client.is_player&&!t.client.is_bot?s("i",{staticClass:"material-icons is-help",attrs:{title:"Human Player"}},[t._v("person")]):t._e(),t.client.is_player&&t.client.is_bot?s("i",{staticClass:"material-icons is-help",attrs:{title:"AI Player"}},[t._v("computer")]):t._e(),t.client.is_player?t._e():s("i",{staticClass:"material-icons is-help",attrs:{title:"Spectator"}},[t._v("remove_red_eye")]),t.client.is_winner?s("i",{staticClass:"material-icons is-help",attrs:{title:"Winner"}},[t._v("stars")]):t._e()]),t.showTeam?s("span",{staticClass:"o-label"},[s("TeamName",{attrs:{player:t.client}})],1):t._e()],1)},ue=[],de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.faction.actual?s("span",{staticClass:"c-faction"},[s("span",{staticClass:"c-faction__name"},[t._v(t._s(t.actual.name))]),t._v(" "),t.faction.chosen!==t.faction.actual?s("small",{staticClass:"c-faction__chosen"},[t._v("("+t._s(t.chosen.name)+")")]):t._e()]):t._e()},pe=[],fe={props:{faction:Object},computed:{actual:function(){return this.$store.getters["modData/factionInfo"](this.faction.actual)},chosen:function(){return this.$store.getters["modData/factionInfo"](this.faction.chosen)}}},me=fe,be=Object(M["a"])(me,de,pe,!1,null,null,null),he=be.exports,_e={props:{client:Object,showTeam:{type:Boolean,default:!1}},components:{Faction:he,TeamName:le}},ve=_e,ye=(s("b1af"),Object(M["a"])(ve,ce,ue,!1,null,null,null)),ge=ye.exports,je={computed:{teams:function(){return this.$store.getters["replayData/teams"]}},components:{TeamName:le,ClientInfo:ge}},Oe=je,we=(s("73a3"),Object(M["a"])(Oe,ee,se,!1,null,null,null)),Ce=we.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-tab-orders"},[s("FilterBuildOrders"),s("div",{staticClass:"c-tab-build-orders"},[s("div",{staticClass:"c-tab-build-orders__teams"},t._l(t.teams,(function(e,a){return s("div",{key:a,staticClass:"c-tab-build-orders__team"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"c-tab-build-orders__player"},[s("div",{staticClass:"c-tab-build-orders__client"},[e.is_player?s("ClientInfo",{attrs:{client:e,showTeam:!0}}):t._e()],1)])})),0)})),0),"timeline"===t.buildOrderViewMode?s("BuildOrdersTimeline",{attrs:{teams:t.teams}}):"simple"===t.buildOrderViewMode?s("BuildOrdersSimple",{attrs:{teams:t.teams}}):"stats"===t.buildOrderViewMode?s("BuildOrdersStats",{attrs:{teams:t.teams}}):t._e()],1)],1)},$e=[],ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-filters mb-3 mt-1"},[s("small",{staticClass:"d-inline-block mr-2"},[t._v("View mode")]),s("b-btn-group",{attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-primary",pressed:"simple"===t.buildOrderViewMode,value:"simple"},on:{click:function(e){return t.setViewMode(e)}}},[t._v("Simple")]),s("b-btn",{attrs:{variant:"outline-primary",pressed:"timeline"===t.buildOrderViewMode,value:"timeline"},on:{click:function(e){return t.setViewMode(e)}}},[t._v("Timeline")]),s("b-btn",{attrs:{variant:"outline-primary",pressed:"stats"===t.buildOrderViewMode,value:"stats"},on:{click:function(e){return t.setViewMode(e)}}},[t._v("Statistics")])],1),s("small",{staticClass:"d-inline-block mr-2 ml-5"},[t._v("Show")]),s("b-btn-group",{attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-primary",pressed:"all"===t.buildOrderFilter,value:"all"},on:{click:function(e){return t.setFilters(e)}}},[t._v("Everything")]),t.modFeatures.includes("buildings")?s("b-btn",{attrs:{variant:"outline-primary",pressed:"building"===t.buildOrderFilter,value:"building"},on:{click:function(e){return t.setFilters(e)}}},[t._v("Buildings")]):t._e(),t.modFeatures.includes("defences")?s("b-btn",{attrs:{variant:"outline-primary",pressed:"defence"===t.buildOrderFilter,value:"defence"},on:{click:function(e){return t.setFilters(e)}}},[t._v("Defences")]):t._e(),t.modFeatures.includes("support_powers")?s("b-btn",{attrs:{variant:"outline-primary",pressed:"support_power"===t.buildOrderFilter,value:"support_power"},on:{click:function(e){return t.setFilters(e)}}},[t._v("Support Powers")]):t._e()],1)],1)},De=[],Ee={computed:{buildOrderViewMode:function(){return this.$store.state.settings.buildOrderViewMode},buildOrderFilter:function(){return this.$store.state.settings.buildOrderFilter},modFeatures:function(){return this.$store.getters["modData/modFeatures"]}},methods:{setViewMode:function(t){var e=t.target.value;this.$store.commit("settings/setBuildOrderViewMode",{mode:e})},setFilters:function(t){var e=t.target.value;this.$store.commit("settings/setBuildOrderFilter",{filter:e})}}},Re=Ee,Ie=Object(M["a"])(Re,ke,De,!1,null,null,null),Te=Ie.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-build-orders-simple"},t._l(t.teams,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-simple__team"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-simple__player"},[s("div",{staticClass:"c-build-orders-simple__order"},[t._l(e.build,(function(t,e){return s("Actor",{key:"build-"+e,attrs:{id:t.structure,game_time:t.game_time}})})),t._l(e.support_powers,(function(t,e){return s("Actor",{key:"support_power-"+e,attrs:{id:t.type,game_time:t.game_time,type:"support_power"}})}))],2)])})),0)})),0)},Me=[],Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFilteredIn,expression:"isFilteredIn"},{name:"b-popover",rawName:"v-b-popover.hover.focus.bottom",value:t.name,expression:"name",modifiers:{hover:!0,focus:!0,bottom:!0}}],staticClass:"c-actor",class:[t.typeClass,{"has-error":t.hasCameoError}],attrs:{title:t.popoverTitle}},[s("img",{staticClass:"c-actor__cameo",attrs:{src:t.cameoUrl,alt:t.name,width:t.width,height:t.height},on:{error:function(e){return t.cameoError(e)}}}),t.badge?s("span",{staticClass:"c-actor__badge h4"},[s("b-badge",[t._v(t._s(t.badge))])],1):t._e()])},Ae=[],Ne=(s("a9e3"),{data:function(){return{hasCameoError:!1}},props:{id:{type:String,default:""},type:{type:String,default:"actor"},game_time:{type:Object,default:function(){}},width:{type:Number,default:64},badge:{type:Number,default:0}},mounted:function(){"timeline"===this.$store.state.settings.buildOrderViewMode&&this.unclump(this.$el)},computed:{height:function(){return.75*this.width},offset:function(){return!this.game_time||v.a.isEmpty(this.game_time)?"0px":this.game_time.msec*this.$store.state.settings.timelineScalingFactor+"px"},info:function(){return"support_power"===this.type?this.$store.getters["modData/supportPowerInfo"](this.id):this.$store.getters["modData/actorInfo"](this.id)},name:function(){return this.info.name},popoverTitle:function(){var t="";return this.game_time&&!v.a.isEmpty(this.game_time)&&(t=this.game_time.formatted),t},typeClass:function(){return"c-actor--".concat(this.info.type)},cameoUrl:function(){var t=window.location.href.replace(/\/$/,""),e=this.$store.state.replayData.mod,s=this.info.id+".gif";return"support_power"===this.type&&(s="support_power-"+s),t+"/assets/mods/"+e+"/cameos/"+s},isFilteredIn:function(){var t=this.$store.state.settings.buildOrderFilter;return"all"===t||this.info.type===t}},methods:{unclump:function(t){t.classList.add("is-offset"),t.style.left=this.offset;var e=t.previousSibling;if(e){var s=t.getBoundingClientRect(),a=e.getBoundingClientRect();if(!(s.left>=a.right)){var r=a.top-s.top,n=r+a.height-.2*a.height;t.style.top=n+"px"}}},cameoError:function(){this.hasCameoError=!0}}}),ze=Ne,Le=(s("ac51"),Object(M["a"])(ze,Fe,Ae,!1,null,null,null)),Ve=Le.exports,Pe={props:{teams:Object},components:{Actor:Ve}},Be=Pe,Je=(s("7ff9"),Object(M["a"])(Be,xe,Me,!1,null,null,null)),Ue=Je.exports,Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"timeline",staticClass:"c-build-orders-timeline",on:{mousemove:function(e){return t.onTimelineEvent(e)},scroll:function(e){return t.onTimelineEvent(e)}}},[t._l(t.teams,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-timeline__team"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-timeline__player"},[s("div",{staticClass:"c-build-orders-timeline__order",style:{width:t.timelineSize+"px"}},[t.isBuildOrderTabActive?s("div",{staticClass:"c-build-orders-timeline__actor"},t._l(e.build,(function(t,e){return s("Actor",{key:e,attrs:{id:t.structure,game_time:t.game_time}})})),1):t._e(),t.isBuildOrderTabActive?s("div",{staticClass:"c-build-orders-timeline__actor"},t._l(e.support_powers,(function(t,e){return s("Actor",{key:e,attrs:{id:t.type,game_time:t.game_time,type:"support_power"}})})),1):t._e()])])})),0)})),s("div",{ref:"veil",staticClass:"c-build-orders-timeline__veil-wrap"},[s("div",{staticClass:"c-build-orders-timeline__veil"})]),s("div",{ref:"playhead",staticClass:"c-build-orders-timeline__playhead",attrs:{"current-time":"00:00:00"}})],2)},He=[],Ge=s("c1df"),qe=s.n(Ge),Ye={data:function(){return{isTimelineScrolling:!1,timelineScrollRaf:!1,offsetX:0,mouseX:0}},props:{teams:Object},computed:{timelineSize:function(){return this.$store.getters["settings/timelineSize"]},timelineScalingFactor:function(){return this.$store.state.settings.timelineScalingFactor},isBuildOrderTabActive:function(){return 2===this.$store.state.settings.currentTab}},methods:{onTimelineEvent:function(t){var e=this.$refs.timeline,s=e.getBoundingClientRect();if(t.clientX){var a=t.clientX-s.left;this.mouseX=a<0?0:a}this.offsetX=this.mouseX+e.scrollLeft,this.timelineAnimation()},timelineAnimation:function(){var t=this;this.isTimelineScrolling||(this.isTimelineScrolling=!0,window.requestAnimationFrame((function(){t.offsetX<=t.timelineSize&&t.updateTimeline(),t.isTimelineScrolling=!1})))},updateTimeline:function(){var t=this.$refs.playhead,e=this.$refs.veil,s=Math.round(this.offsetX/this.timelineScalingFactor);s=qe.a.utc(s).format("HH:mm:ss"),t.style.transform="translateX(".concat(this.offsetX,"px)"),t.setAttribute("current-time",s),e.style.transform="translateX(".concat(this.offsetX,"px)")}},components:{Actor:Ve}},We=Ye,Ke=(s("daf4"),Object(M["a"])(We,Xe,He,!1,null,null,null)),Qe=Ke.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-build-orders-stats"},t._l(t.teams,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-stats__team"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"c-build-orders-stats__player"},[s("div",{staticClass:"c-build-orders-stats__order"},[t._l(t.buildings,(function(a){return s("div",{key:a.id},[t.count_structures(a.id,e.build)?s("Actor",{attrs:{id:a.id,badge:t.count_structures(a.id,e.build)}}):t._e()],1)})),t._l(t.defences,(function(a){return s("div",{key:a.id},[t.count_structures(a.id,e.build)?s("Actor",{attrs:{id:a.id,badge:t.count_structures(a.id,e.build)}}):t._e()],1)})),t._l(t.support_powers,(function(a){return s("div",{key:a.id},[t.count_support_powers(a.id,e.support_powers)?s("Actor",{attrs:{id:a.id,badge:t.count_support_powers(a.id,e.support_powers),type:"support_power"}}):t._e()],1)}))],2)])})),0)})),0)},ts=[],es={props:{teams:Object},computed:{buildings:function(){return this.$store.getters["modData/buildings"]},defences:function(){return this.$store.getters["modData/defences"]},support_powers:function(){return this.$store.getters["modData/support_powers"]}},methods:{count_structures:function(t,e){return v.a.filter(e,["structure",t]).length},count_support_powers:function(t,e){return v.a.filter(e,["type",t]).length}},components:{Actor:Ve}},ss=es,as=(s("b685"),Object(M["a"])(ss,Ze,ts,!1,null,null,null)),rs=as.exports,ns={computed:{teams:function(){return this.$store.getters["replayData/players"]},buildOrderViewMode:function(){return this.$store.state.settings.buildOrderViewMode}},components:{FilterBuildOrders:Te,ClientInfo:ge,BuildOrdersSimple:Ue,BuildOrdersTimeline:Qe,BuildOrdersStats:rs}},is=ns,os=(s("3ded"),Object(M["a"])(is,Se,$e,!1,null,null,null)),ls=os.exports,cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-chat"},[s("FilterChat"),t._l(t.chat,(function(t,e){return s("ChatMessage",{key:e,attrs:{message:t}})}))],2)},us=[],ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-filters mb-3 mt-1"},[s("small",{staticClass:"d-inline-block mr-2"},[t._v("Channels")]),s("b-btn-group",{attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-primary",pressed:t.chatFilter.includes("all"),value:"all"},on:{click:function(e){return t.setFilters(e)}}},[t._v("Show All")]),t._l(t.channels,(function(e,a){return s("b-btn",{key:a,attrs:{variant:"outline-primary",pressed:t.chatFilter===e||!e&&"spectators"===t.chatFilter,value:e||"spectators"},on:{click:function(e){return t.setFilters(e)}}},[t._v("#"+t._s(e||"spectators"))])}))],2)],1)},ps=[],fs={computed:{channels:function(){return this.$store.getters["replayData/chatChannels"]},chatFilter:function(){return this.$store.state.settings.chatFilter}},methods:{setFilters:function(t){var e=t.target.value;this.$store.commit("settings/setChatFilter",{filter:e})}}},ms=fs,bs=Object(M["a"])(ms,ds,ps,!1,null,null,null),hs=bs.exports,_s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFilteredIn,expression:"isFilteredIn"}],staticClass:"c-chat-message",class:{"is-server":t.isServer,"is-spectator":t.isSpectator}},[s("small",{staticClass:"c-chat-message__channel"},[t._v("#"+t._s(t.channel)+" ")]),s("span",{staticClass:"c-chat-message__name"},[s("strong",[t._v(t._s(t.name))]),t._v(": ")]),s("span",{staticClass:"c-chat-message__message"},[t._v(t._s(t.message.message))])])},vs=[],ys={props:{message:Object},computed:{name:function(){return this.message.name||"Battlefield Control"},channel:function(){return this.message.channel||"spectators"},isServer:function(){return"server"===this.message.channel&&null===this.message.name},isSpectator:function(){return null===this.message.channel},isFilteredIn:function(){var t=this.$store.state.settings.chatFilter;return t.includes("all")||t.includes(this.channel)}}},gs=ys,js=(s("3142"),Object(M["a"])(gs,_s,vs,!1,null,null,null)),Os=js.exports,ws={computed:{chat:function(){return this.$store.getters["replayData/chat"]}},components:{FilterChat:hs,ChatMessage:Os}},Cs=ws,Ss=Object(M["a"])(Cs,cs,us,!1,null,null,null),$s=Ss.exports,ks={components:{TabGameInfo:te,TabClients:Ce,TabBuildOrders:ls,TabChat:$s},methods:{onTabActivated:function(t){this.$store.commit("settings/setCurrentTab",t)}}},Ds=ks,Es=Object(M["a"])(Ds,Pt,Bt,!1,null,null,null),Rs=Es.exports,Is={name:"app",computed:{isAnalyticsReady:function(){return this.$store.state.settings.isAnalyticsReady},supportedMods:function(){return this.$store.state.settings.supportedMods}},components:{Navbar:A,HeaderDefault:P,Header:Z,Footer:rt,Input:Vt,Analytics:Rs},methods:{onReplayDataReady:function(t){this.registerReplayDataStore(t),this.registerModDataStore(t)},registerReplayDataStore:function(t){w.state=t,this.$store.registerModule("replayData",w)},registerModDataStore:function(t){var e=this,s=t.mod,a=this.supportedMods.includes(s);a||(s="default"),fetch("data/mods/"+s+".json").then((function(t){if(t.ok)return t.json();throw new Error("Error fetching mod data.")})).then((function(s){a||(s.name=t.mod),D.state=s,e.$store.registerModule("modData",D),e.$store.commit("settings/setCurrentMod",t.mod),e.$store.commit("settings/setAnalyticsReadyState",!0),E.$emit("AnalyticsReady",t)})).catch((function(t){console.log(t),e.$store.commit("settings/setLoadingState",!1)}))}},created:function(){E.$on("ReplayDataReady",this.onReplayDataReady)}},Ts=Is,xs=(s("c796"),Object(M["a"])(Ts,b,h,!1,null,null,null)),Ms=xs.exports;s("ab8b"),s("2dd8");a["default"].config.productionTip=!1,a["default"].use(r["a"]),a["default"].use(i.a),new a["default"]({el:"#app",store:m,render:function(t){return t(Ms)}})},5872:function(t,e,s){},"606c":function(t,e,s){"use strict";var a=s("0384"),r=s.n(a);r.a},"6b1a":function(t,e,s){},"6e63":function(t,e,s){"use strict";var a=s("0ce6"),r=s.n(a);r.a},"73a3":function(t,e,s){"use strict";var a=s("8b5f"),r=s.n(a);r.a},"7ff9":function(t,e,s){"use strict";var a=s("6b1a"),r=s.n(a);r.a},8837:function(t,e,s){"use strict";var a=s("5872"),r=s.n(a);r.a},"8b5f":function(t,e,s){},9274:function(t,e,s){"use strict";var a=s("d0a6"),r=s.n(a);r.a},"9b67":function(t,e,s){},a5fe:function(t,e,s){},ac51:function(t,e,s){"use strict";var a=s("a5fe"),r=s.n(a);r.a},b1af:function(t,e,s){"use strict";var a=s("fe9f"),r=s.n(a);r.a},b685:function(t,e,s){"use strict";var a=s("06a0"),r=s.n(a);r.a},c796:function(t,e,s){"use strict";var a=s("07a7"),r=s.n(a);r.a},d0a6:function(t,e,s){},d24a:function(t,e,s){},daf4:function(t,e,s){"use strict";var a=s("3bea"),r=s.n(a);r.a},ef72:function(t,e,s){"use strict";var a=s("f95b"),r=s.n(a);r.a},f95b:function(t,e,s){},fe9f:function(t,e,s){}});
//# sourceMappingURL=app.6923b513.js.map